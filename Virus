from mfs\fs.h
    #define _SYSTEM		1	/* tell headers that this is the kernel */
    maybe this is the way to get into the kernel
from vfs\open.c line 351, 361
    upgrade_vmnt_lock(dir_vmp); /* Creating file, need exclusive access */
	/* Downgrade lock to prevent deadlock during symlink resolving*/
	downgrade_vmnt_lock(dir_vmp);
from vfs\open.c line 457
    /* When dirp equals vp, we shouldn't release the lock as a vp is locked only
     * once. Releasing the lock would cause the resulting vp not be locked and
     * cause mayhem later on. */
    if (dirp != vp) {
      unlock_vnode(dirp);
    }
    unlock_vmnt(dir_vmp);
